@using System.Linq.Expressions

<MudSelect T="NutritionUnits" Label="@Label" Variant="@Variant" Margin="@Margin" FullWidth="@FullWidth" Immediate="@Immediate" 
		   Value="@Value" ValueChanged="@ValueChanged" For="@For" Disabled="@Disabled">
	@foreach (var item in EnumUtils.GetSortedValues<NutritionUnits>())
	{
		@if (AllowPercent || item != NutritionUnits.pdv)
		{
			<MudSelectItem T="NutritionUnits" Value="@item">@item.Label()</MudSelectItem>
		}
	}
</MudSelect>

@code {
	[Parameter] public string? Label { get; set; }
	[Parameter] public Variant Variant { get; set; } = Variant.Text;
	[Parameter] public Margin Margin { get; set; } = Margin.Normal;
	[Parameter] public bool FullWidth { get; set; } = false;
	[Parameter] public bool Immediate { get; set; } = false;
	[Parameter] public NutritionUnits Value { get; set; } = NutritionUnits.mg;
	[Parameter] public EventCallback<NutritionUnits> ValueChanged { get; set; }
	[Parameter] public Expression<Func<NutritionUnits>> For { get; set; } = default!;
	[Parameter] public bool Disabled { get; set; }
	[Parameter] public bool AllowPercent { get; set; } = false;
}
