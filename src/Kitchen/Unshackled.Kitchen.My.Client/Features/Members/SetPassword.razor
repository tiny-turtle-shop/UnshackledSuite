@page "/member/set-password"
@inherits SetPasswordBase

<DynamicPageTitle Title="Set Password" />

<MudBreadcrumbs Items="@Breadcrumbs" />

<MudText Typo="Typo.h4" Class="mb-4">Set Password</MudText>

<MudText Typo="Typo.subtitle1">
	You do not have a local password for this site. Add a local password so you can log in without an external login.
</MudText>

<EditForm Model="@Model" OnValidSubmit="HandleFormSubmitted">
	<FluentValidationValidator Validator="ModelValidator"></FluentValidationValidator>
	<MudGrid Spacing="2">
		<MudItem xs="12" md="6" lg="4">
			<MudTextField Label="New Password" Variant="Variant.Outlined" Disabled="@DisableControls" Required="true"
						  FullWidth="true" InputType="InputType.Password" @bind-Value="@Model.NewPassword" For="@(() => Model.NewPassword)" />
		</MudItem>
		<MudItem xs="12" md="6" lg="4">
			<MudTextField Label="Confirm Password" Variant="Variant.Outlined" Disabled="@DisableControls" Required="true"
						  FullWidth="true" InputType="InputType.Password" @bind-Value="@Model.ConfirmPassword" For="@(() => Model.ConfirmPassword)" />
		</MudItem>
	</MudGrid>
	<MudToolBar Gutters="false" Class="mt-4">
		<ProgressButton Color="Color.Secondary" Variant="Variant.Filled" ButtonType="ButtonType.Submit" Disabled="@DisableControls"
						IsWorking="@IsWorking" WorkingText="Saving...">Set</ProgressButton>
		<MudButton Color="Color.Secondary" Variant="Variant.Outlined" Disabled="@DisableControls" Href="/member">Cancel</MudButton>
	</MudToolBar>
</EditForm>